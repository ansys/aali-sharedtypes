
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Adding Custom Types &#8212; aali-sharedtypes</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/ansys_sphinx_theme.css?v=0909a4fa" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../_static/documentation_options.js?v=4ebf8126"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started/adding_custom_types';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://ansys.github.io/aali-sharedtypes/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API reference" href="../api_reference/index.html" />
    <link rel="prev" title="Installation" href="installation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.0.0" />
  <link rel="canonical" href="https://ansys.github.io/aali-sharedtypes/version/stable/getting_started/adding_custom_types.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://www.ansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/ansys_logo_transparent_black.png" class="logo__image only-light" alt="aali-sharedtypes - Home"/>
    <img src="../_static/ansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="aali-sharedtypes - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api_reference/index.html">
    API reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div>
        </div>
      
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/aali-sharedtypes" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api_reference/index.html">
    API reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/aali-sharedtypes" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Adding Custom Types</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://aali.docs.ansys.com/" class="nav-link">Aali</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">Getting started</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Adding Custom Types</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="adding-custom-types">
<h1>Adding Custom Types<a class="headerlink" href="#adding-custom-types" title="Link to this heading">#</a></h1>
<p>When creating custom FlowKit functions, you may need to define custom data types that aren’t already available in AALI Shared Types. This guide walks you through the process of adding new types and getting them integrated into AALI FlowKit and Agent.</p>
<section id="when-to-add-custom-types">
<h2>When to Add Custom Types<a class="headerlink" href="#when-to-add-custom-types" title="Link to this heading">#</a></h2>
<p>You need to add custom types when:</p>
<ul class="simple">
<li><p>Your FlowKit function requires a specific data structure not available in existing types</p></li>
<li><p>You need to pass complex data between functions</p></li>
<li><p>You’re integrating with external systems that use specific data formats</p></li>
<li><p>You want to ensure type safety and validation for your function inputs/outputs</p></li>
</ul>
</section>
<section id="step-1-navigate-to-type-definitions">
<h2>Step 1: Navigate to Type Definitions<a class="headerlink" href="#step-1-navigate-to-type-definitions" title="Link to this heading">#</a></h2>
<p>All type definitions are located in <code class="docutils literal notranslate"><span class="pre">pkg/sharedtypes/</span></code>. Each file represents a category of types:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pkg/sharedtypes/
├── agent.go           # Agent-related types
├── exec.go            # Execution context types
├── functiondefinition.go  # Function definition types
├── knowledgedb.go     # Knowledge database types
├── llmhandler.go      # LLM handler types
├── ansysgpt.go        # Ansys GPT specific types
├── ansysmaterials.go  # Ansys Materials types
└── dataextraction.go  # Data extraction types
</pre></div>
</div>
</section>
<section id="step-2-choose-or-create-a-category">
<h2>Step 2: Choose or Create a Category<a class="headerlink" href="#step-2-choose-or-create-a-category" title="Link to this heading">#</a></h2>
<p>Decide where your custom type belongs:</p>
<ul class="simple">
<li><p>If it fits an existing category, add it to the appropriate file</p></li>
<li><p>If it’s a new domain, create a new file following the naming pattern</p></li>
</ul>
<p>Example: adding a custom type to an existing category:</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="c1">// In pkg/sharedtypes/functiondefinition.go</span>

<span class="c1">// CustomAnalysisResult is an EXAMPLE of a custom type you could add</span>
<span class="c1">// This type does not exist in the codebase - it&#39;s shown here as a template</span>
<span class="kd">type</span><span class="w"> </span><span class="nx">CustomAnalysisResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">AnalysisID</span><span class="w">   </span><span class="kt">string</span><span class="w">                 </span><span class="s">`json:&quot;analysis_id&quot;`</span>
<span class="w">    </span><span class="nx">Status</span><span class="w">       </span><span class="kt">string</span><span class="w">                 </span><span class="s">`json:&quot;status&quot;`</span>
<span class="w">    </span><span class="nx">Results</span><span class="w">      </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="s">`json:&quot;results&quot;`</span>
<span class="w">    </span><span class="nx">Timestamp</span><span class="w">    </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w">              </span><span class="s">`json:&quot;timestamp&quot;`</span>
<span class="w">    </span><span class="nx">Confidence</span><span class="w">   </span><span class="kt">float64</span><span class="w">                </span><span class="s">`json:&quot;confidence&quot;`</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="step-3-define-your-custom-type">
<h2>Step 3: Define Your Custom Type<a class="headerlink" href="#step-3-define-your-custom-type" title="Link to this heading">#</a></h2>
<p>Follow these guidelines when defining your type:</p>
<ol class="arabic simple">
<li><p>Use clear, descriptive names</p></li>
<li><p>Add JSON tags for serialization</p></li>
<li><p>Include godoc comments</p></li>
<li><p>Consider validation requirements</p></li>
</ol>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="c1">// MyCustomType represents data for a specific FlowKit function</span>
<span class="kd">type</span><span class="w"> </span><span class="nx">MyCustomType</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ID is a unique identifier for this instance</span>
<span class="w">    </span><span class="nx">ID</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;id&quot;`</span>

<span class="w">    </span><span class="c1">// Name is a human-readable name</span>
<span class="w">    </span><span class="nx">Name</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;name&quot;`</span>

<span class="w">    </span><span class="c1">// Data contains the actual payload</span>
<span class="w">    </span><span class="nx">Data</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="s">`json:&quot;data&quot;`</span>

<span class="w">    </span><span class="c1">// ProcessingOptions defines how this data should be processed</span>
<span class="w">    </span><span class="nx">ProcessingOptions</span><span class="w"> </span><span class="nx">ProcessingConfig</span><span class="w"> </span><span class="s">`json:&quot;processing_options,omitempty&quot;`</span>
<span class="p">}</span>

<span class="c1">// ProcessingConfig defines options for processing MyCustomType</span>
<span class="kd">type</span><span class="w"> </span><span class="nx">ProcessingConfig</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">EnableValidation</span><span class="w"> </span><span class="kt">bool</span><span class="w">   </span><span class="s">`json:&quot;enable_validation&quot;`</span>
<span class="w">    </span><span class="nx">MaxRetries</span><span class="w">       </span><span class="kt">int</span><span class="w">    </span><span class="s">`json:&quot;max_retries&quot;`</span>
<span class="w">    </span><span class="nx">TimeoutSeconds</span><span class="w">   </span><span class="kt">int</span><span class="w">    </span><span class="s">`json:&quot;timeout_seconds&quot;`</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="step-4-add-type-converters">
<h2>Step 4: Add Type Converters<a class="headerlink" href="#step-4-add-type-converters" title="Link to this heading">#</a></h2>
<p>Navigate to <code class="docutils literal notranslate"><span class="pre">pkg/typeconverters/typeconverters.go</span></code> and add conversion support for your type:</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="c1">// In the ConvertStringToGivenType function, add a case for your type:</span>
<span class="k">case</span><span class="w"> </span><span class="s">&quot;MyCustomType&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="nx">sharedtypes</span><span class="p">.</span><span class="nx">MyCustomType</span>
<span class="w">    </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">s</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>

<span class="c1">// In the ConvertGivenTypeToString function, add a case:</span>
<span class="k">case</span><span class="w"> </span><span class="nx">sharedtypes</span><span class="p">.</span><span class="nx">MyCustomType</span><span class="p">:</span>
<span class="w">    </span><span class="nx">bytes</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">json</span><span class="p">.</span><span class="nx">Marshal</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">bytes</span><span class="p">),</span><span class="w"> </span><span class="kc">nil</span>
</pre></div>
</div>
</section>
<section id="step-5-build-and-verify">
<h2>Step 5: Build and Verify<a class="headerlink" href="#step-5-build-and-verify" title="Link to this heading">#</a></h2>
<p>Build the module to ensure your changes compile:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>go<span class="w"> </span>build<span class="w"> </span>./...
go<span class="w"> </span><span class="nb">test</span><span class="w"> </span>./...
</pre></div>
</div>
</section>
<section id="step-6-submit-your-changes">
<h2>Step 6: Submit Your Changes<a class="headerlink" href="#step-6-submit-your-changes" title="Link to this heading">#</a></h2>
<p>Once your custom type is working:</p>
<ol class="arabic simple">
<li><p><strong>Commit your changes</strong> to a feature branch</p></li>
<li><p><strong>Create a pull request</strong> to merge into the main branch</p></li>
<li><p><strong>After merge</strong>, the shared types need to be updated in:</p>
<ul class="simple">
<li><p>AALI FlowKit: Import the latest shared types version</p></li>
<li><p>AALI Agent: Import the latest shared types version</p></li>
</ul>
</li>
<li><p><strong>Coordinate with the team</strong> to ensure both services are updated</p></li>
</ol>
</section>
<section id="example-using-your-custom-type-in-flowkit">
<h2>Example: Using Your Custom Type in FlowKit<a class="headerlink" href="#example-using-your-custom-type-in-flowkit" title="Link to this heading">#</a></h2>
<p>After your type is integrated, you can use it in FlowKit function definitions.
This example shows how you would use the custom types defined earlier:</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="c1">// Example function using the custom types defined in this guide</span>
<span class="kd">func</span><span class="w"> </span><span class="nx">MyCustomFunction</span><span class="p">(</span><span class="nx">input</span><span class="w"> </span><span class="nx">sharedtypes</span><span class="p">.</span><span class="nx">MyCustomType</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">sharedtypes</span><span class="p">.</span><span class="nx">CustomAnalysisResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Process the custom type</span>
<span class="w">    </span><span class="nx">result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">sharedtypes</span><span class="p">.</span><span class="nx">CustomAnalysisResult</span><span class="p">{</span>
<span class="w">        </span><span class="nx">AnalysisID</span><span class="p">:</span><span class="w"> </span><span class="nx">generateID</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">Status</span><span class="p">:</span><span class="w">     </span><span class="s">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">Results</span><span class="p">:</span><span class="w">    </span><span class="nx">processData</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">Data</span><span class="p">),</span>
<span class="w">        </span><span class="nx">Timestamp</span><span class="p">:</span><span class="w">  </span><span class="nx">time</span><span class="p">.</span><span class="nx">Now</span><span class="p">(),</span>
<span class="w">        </span><span class="nx">Confidence</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Keep types focused</strong>: Each type should have a single, clear purpose</p></li>
<li><p><strong>Use standard Go conventions</strong>: Follow Go naming and structure guidelines</p></li>
<li><p><strong>Document thoroughly</strong>: Include examples in comments</p></li>
<li><p><strong>Consider backward compatibility</strong>: Changes to existing types can break other services</p></li>
<li><p><strong>Test edge cases</strong>: Ensure your type handles null/empty values appropriately</p></li>
</ul>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Explore existing types in the <code class="docutils literal notranslate"><span class="pre">pkg/sharedtypes/</span></code> directory</p></li>
<li><p>Learn about type conversion in <code class="docutils literal notranslate"><span class="pre">pkg/typeconverters/typeconverters.go</span></code></p></li>
<li><p>Review gRPC definitions in <code class="docutils literal notranslate"><span class="pre">pkg/aaliagentgrpc/</span></code> and <code class="docutils literal notranslate"><span class="pre">pkg/aaliflowkitgrpc/</span></code></p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-add-custom-types">When to Add Custom Types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-navigate-to-type-definitions">Step 1: Navigate to Type Definitions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-choose-or-create-a-category">Step 2: Choose or Create a Category</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-define-your-custom-type">Step 3: Define Your Custom Type</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-add-type-converters">Step 4: Add Type Converters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-build-and-verify">Step 5: Build and Verify</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-submit-your-changes">Step 6: Submit Your Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-using-your-custom-type-in-flowkit">Example: Using Your Custom Type in FlowKit</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#best-practices">Best Practices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item"> 
<div class="tocsection editthispage">
  <a href="https://github.com/ansys/aali-sharedtypes/edit/main/doc/source/getting_started/adding_custom_types.rst">
    <i class="fa-solid fa-pencil"></i>
       Edit
    on GitHub  
  </a>
</div>

</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../_sources/getting_started/adding_custom_types.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../_static/search.json";
</script>


<script src="../_static/js/search.js"></script>
  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2025 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.3.3. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>